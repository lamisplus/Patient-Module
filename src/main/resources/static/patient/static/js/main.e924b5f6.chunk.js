(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{497:function(e,t,a){e.exports=a(697)},502:function(e,t,a){},689:function(e,t,a){},697:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),l=a(19),c=a.n(l),s=(a(502),a(46)),i=a(20),o=a.n(i),m=a(40),u=a(27),d=a(84),p=a.n(d),E=a(739),f=a(418),b=a(725),g=a(726),h=a(727),N=a(376),v=a(162),y=a(263),O=a(479),x=a(50),j=a(414),S=a(416),k=a(417),w=a(379),P=a.n(w),I=a(472),B=a.n(I),A=a(473),z=a.n(A),T=a(195),C=(a(346),a(413),a(728)),D=a(101),R=a(470),J=a(142),F=new URLSearchParams(window.location.search).get("jwt"),q="/api/";v.b.add(y.a,y.b,y.c,y.d);var L=Object(j.a)(function(e){return{card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:300},button:{margin:e.spacing(1)},root:{flexGrow:1,maxWidth:752},demo:{backgroundColor:e.palette.background.default},inline:{display:"inline"}}}),M=x.c().shape({dateOfRegistration:x.a().required(),hospitalNumber:x.d().required(),firstName:x.d().required(),middleName:x.d().nullable(),lastName:x.d().required(),sex:x.b().required(),employmentStatus:x.b().required(),highestQualification:x.b().required(),maritalStatus:x.b().required(),dob:x.a().required(),pnumber:x.d().required(),altPhonenumber:x.d().nullable(),email:x.d().nullable(),address:x.d().nullable(),landmark:x.d().nullable(),countryId:x.b().required(),stateId:x.b().required(),district:x.b().nullable()}),H=function(e){var t,a=Object(J.d)({resolver:Object(O.a)(M)}),l=a.register,c=a.setValue,i=a.getValues,d=a.setError,v=a.handleSubmit,y=a.formState.errors,x=Object(n.useState)((new Date).toISOString().substr(0,10).replace("T"," ")),j=Object(u.a)(x,2),w=j[0],I=(j[1],Object(n.useState)([])),A=Object(u.a)(I,2),H=A[0],Q=A[1],G=Object(n.useState)(!1),U=Object(u.a)(G,2),Y=U[0],K=(U[1],Object(n.useState)(!1)),V=Object(u.a)(K,2),W=V[0],_=V[1],X=Object(n.useState)(null),Z=Object(u.a)(X,2),$=Z[0],ee=Z[1],te=Object(n.useState)([]),ae=Object(u.a)(te,2),ne=ae[0],re=ae[1],le=Object(n.useState)([]),ce=Object(u.a)(le,2),se=ce[0],ie=ce[1],oe=Object(n.useState)([]),me=Object(u.a)(oe,2),ue=me[0],de=me[1],pe=Object(n.useState)([]),Ee=Object(u.a)(pe,2),fe=Ee[0],be=Ee[1],ge=Object(n.useState)([]),he=Object(u.a)(ge,2),Ne=he[0],ve=he[1],ye=Object(n.useState)([]),Oe=Object(u.a)(ye,2),xe=Oe[0],je=Oe[1],Se=Object(n.useState)([]),ke=Object(u.a)(Se,2),we=ke[0],Pe=ke[1],Ie=Object(n.useState)([]),Be=Object(u.a)(Ie,2),Ae=Be[0],ze=Be[1],Te=e.location&&e.location.state?e.location.state.user:null,Ce=L(),De=Object(s.g)(),Re=Object(s.h)().state;t=Re?Re.patientId:null;var Je=Object(n.useCallback)(Object(m.a)(o.a.mark(function e(){var a,n,r,l,s,i,m,u,d,f,b,g,h,N,v,y,O;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=46;break}return e.next=3,p.a.get("".concat(q,"patient/").concat(t),{headers:{Authorization:"Bearer ".concat(F)}});case 3:if(a=e.sent,n=a.data,r=n.contact?JSON.parse(n.contact):[],Q(r.contact),l=JSON.parse(n.identifier),s=JSON.parse(n.address),i=JSON.parse(n.contactPoint),m=l.identifier.find(function(e){return"HospitalNumber"==e.type}),u=i.contactPoint.find(function(e){return"phone"==e.type}),d=i.contactPoint.find(function(e){return"email"==e.type}),f=i.contactPoint.find(function(e){return"altphone"==e.type}),b=s&&s.address&&s.address.length>0?s.address[0]:null,g=JSON.parse(n.gender),h=JSON.parse(n.employmentStatus),N=JSON.parse(n.education),v=JSON.parse(n.maritalStatus),c("dateOfRegistration",n.dateOfRegistration),c("firstName",n.firstname),c("middleName",n.otherName),c("lastName",n.surname),c("hospitalNumber",m?m.value:""),c("maritalStatus",v.id),c("employmentStatus",h.id),c("sex",g.id),c("highestQualification",N.id),c("dob",Object(E.a)(new Date(n.dateOfBirth),"yyyy-MM-dd")),!b){e.next=43;break}return c("countryId",b.countryId),e.next=33,Ue(b.countryId);case 33:return y=e.sent,Pe(y),c("stateId",b.stateId),e.next=38,Ue(b.stateId);case 38:O=e.sent,ze(O),c("district",b.district),c("address",b.city),c("landmark",b.line[0]);case 43:c("pnumber",u?u.value:null),c("email",d?d.value:null),c("altPhonenumber",f?f.value:null);case 46:case"end":return e.stop()}},e)})),[]),Fe=function(){var e=Object(m.a)(o.a.mark(function e(a){var n,r,l,c;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n={active:!0,address:[{city:a.address,countryId:a.countryId,district:a.district,line:[a.landmark],organisationUnitId:0,postalCode:"",stateId:a.stateId}],contact:H,contactPoint:[],dateOfBirth:new Date(a.dob),deceased:!1,deceasedDateTime:null,firstname:a.firstName,genderId:a.sex,identifier:[{assignerId:1,type:"HospitalNumber",value:a.hospitalNumber}],otherName:a.middleName,maritalStatusId:a.maritalStatus,surname:a.lastName,educationId:a.highestQualification,employmentStatusId:a.employmentStatus,dateOfRegistration:a.dateOfRegistration},r={type:"phone",value:a.pnumber},a.email&&(l={type:"email",value:a.email},n.contactPoint.push(l)),a.altPhonenumber&&(c={type:"altphone",value:a.altPhonenumber},n.contactPoint.push(c)),n.contactPoint.push(r),!t){e.next=12;break}return e.next=9,p.a.put("".concat(q,"patient/").concat(t),n,{headers:{Authorization:"Bearer ".concat(F)}});case 9:e.sent,e.next=15;break;case 12:return e.next=14,p.a.post("".concat(q,"patient/"),n,{headers:{Authorization:"Bearer ".concat(F)}});case 14:e.sent;case 15:De.push("/"),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),console.log(e.t0);case 21:case"end":return e.stop()}},e,null,[[0,18]])}));return function(t){return e.apply(this,arguments)}}(),qe=Object(n.useCallback)(Object(m.a)(o.a.mark(function e(){var t;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.get("".concat(q,"application-codesets/v2/GENDER"),{headers:{Authorization:"Bearer ".concat(F)}});case 3:t=e.sent,re(t.data),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}},e,null,[[0,7]])})),[]),Le=Object(n.useCallback)(Object(m.a)(o.a.mark(function e(){var t;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.get("".concat(q,"application-codesets/v2/MARITAL_STATUS"),{headers:{Authorization:"Bearer ".concat(F)}});case 3:t=e.sent,ie(t.data),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}},e,null,[[0,7]])})),[]),Me=Object(n.useCallback)(Object(m.a)(o.a.mark(function e(){var t;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.get("".concat(q,"application-codesets/v2/EDUCATION"),{headers:{Authorization:"Bearer ".concat(F)}});case 3:t=e.sent,de(t.data),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}},e,null,[[0,7]])})),[]),He=Object(n.useCallback)(Object(m.a)(o.a.mark(function e(){var t;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.get("".concat(q,"application-codesets/v2/OCCUPATION"),{headers:{Authorization:"Bearer ".concat(F)}});case 3:t=e.sent,be(t.data),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}},e,null,[[0,7]])})),[]),Qe=Object(n.useCallback)(Object(m.a)(o.a.mark(function e(){var t;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.get("".concat(q,"application-codesets/v2/RELATIONSHIP"),{headers:{Authorization:"Bearer ".concat(F)}});case 3:t=e.sent,ve(t.data),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}},e,null,[[0,7]])})),[]),Ge=Object(n.useCallback)(Object(m.a)(o.a.mark(function e(){var t;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("".concat(q,"organisation-units/parent-organisation-units/0"),{headers:{Authorization:"Bearer ".concat(F)}});case 2:t=e.sent,je(t.data);case 4:case"end":return e.stop()}},e)})),[]),Ue=function(){var e=Object(m.a)(o.a.mark(function e(t){var a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("".concat(q,"organisation-units/parent-organisation-units/").concat(t),{headers:{Authorization:"Bearer ".concat(F)}});case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),Ye=function(){var e=Object(m.a)(o.a.mark(function e(t){var a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.target.value){e.next=7;break}return e.next=3,Ue(t.target.value);case 3:a=e.sent,Pe(a),e.next=8;break;case 7:Pe([]);case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),Ke=function(){var e=Object(m.a)(o.a.mark(function e(t){var a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.target.value){e.next=7;break}return e.next=3,Ue(t.target.value);case 3:a=e.sent,ze(a),e.next=8;break;case 7:ze([]);case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){qe(),Le(),Me(),He(),Qe(),Ge(),Je()},[qe,Le,Me,He,Qe,Ge,Je]);var Ve=null,We=null,_e=null,Xe=null,Ze=null,$e=null,et=null,tt=null;ne&&ne.length>0&&(Ve=ne.map(function(e,t){return r.a.createElement("option",{key:e.id,value:e.id},e.display)})),se&&se.length>0&&(We=se.map(function(e,t){return r.a.createElement("option",{key:e.id,value:e.id},e.display)})),ue&&ue.length>0&&(_e=ue.map(function(e,t){return r.a.createElement("option",{key:e.id,value:e.id},e.display)})),fe&&fe.length>0&&(Xe=fe.map(function(e,t){return r.a.createElement("option",{key:e.id,value:e.id},e.display)})),Ne&&Ne.length>0&&(Ze=Ne.map(function(e,t){return r.a.createElement("option",{key:e.id,value:e.id},e.display)})),xe&&xe.length>0&&($e=xe.map(function(e,t){return r.a.createElement("option",{key:e.id,value:e.id},e.name)})),we&&we.length>0&&(et=we.map(function(e,t){return r.a.createElement("option",{key:e.id,value:e.id},e.name)})),Ae&&Ae.length>0&&(tt=Ae.map(function(e,t){return r.a.createElement("option",{key:e.id,value:e.id},e.name)}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(T.a,{autoClose:3e3,hideProgressBar:!0}),r.a.createElement(S.a,{className:Ce.cardBottom},r.a.createElement(k.a,null,r.a.createElement(D.a,{to:{pathname:"/",state:"users"}},r.a.createElement(f.a,{variant:"contained",color:"primary",className:" float-right ms-1",startIcon:r.a.createElement(R.a,null)},r.a.createElement("span",{style:{textTransform:"capitalize"}},"Back "))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{className:"col-xl-12 col-lg-12"},r.a.createElement(b.a,{onSubmit:v(Fe,function(e){console.error(e)})},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},r.a.createElement("h5",{className:"card-title"},null===Te?"Basic Information":"Edit User Information")),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"basic-form"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"form-group mb-3 col-md-4"},r.a.createElement(g.a,null,r.a.createElement(h.a,{for:"dateOfRegistration"},"Date of Registration*"),r.a.createElement("input",Object.assign({className:"form-control",type:"date",name:"dateOfRegistration",id:"dateOfRegistration",max:w},l("dateOfRegistration"))),y.dateOfRegistration&&r.a.createElement("p",null,y.dateOfRegistration.message))),r.a.createElement("div",{className:"form-group mb-3 col-md-4"},r.a.createElement(g.a,null,r.a.createElement(h.a,{for:"patientId"},"Patient ID * "),r.a.createElement("input",Object.assign({className:"form-control",type:"text",name:"hospitalNumber",id:"hospitalNumber"},l("hospitalNumber"))),y.hospitalNumber&&r.a.createElement("p",null,y.hospitalNumber.message)))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"form-group mb-3 col-md-4"},r.a.createElement(g.a,null,r.a.createElement(h.a,{for:"firstName"},"First Name *"),r.a.createElement("input",Object.assign({className:"form-control",type:"text",name:"firstName",id:"firstName"},l("firstName"))),y.firstName&&r.a.createElement("p",null,y.firstName.message))),r.a.createElement("div",{className:"form-group mb-3 col-md-4"},r.a.createElement(g.a,null,r.a.createElement(h.a,null,"Middle Name"),r.a.createElement("input",Object.assign({className:"form-control",type:"text",name:"middleName",id:"middleName"},l("middleName"))),y.middleName&&r.a.createElement("p",null,y.middleName.message))),r.a.createElement("div",{className:"form-group mb-3 col-md-4"},r.a.createElement(g.a,null,r.a.createElement(h.a,null,"Last Name *"),r.a.createElement("input",Object.assign({className:"form-control",type:"text",name:"lastName",id:"lastName"},l("lastName"))),y.lastName&&r.a.createElement("p",null,y.lastName.message)))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"form-group  col-md-4"},r.a.createElement(g.a,null,r.a.createElement(h.a,null,"Sex *"),r.a.createElement("select",Object.assign({className:"form-control",name:"sex",id:"sex"},l("sex")),r.a.createElement("option",{value:""}),Ve),y.sex&&r.a.createElement("p",null,y.sex.message))),r.a.createElement("div",{className:"form-group  col-md-4"},r.a.createElement(g.a,null,r.a.createElement(h.a,null,"Employment Status *"),r.a.createElement("select",Object.assign({className:"form-control",name:"employmentStatus",id:"employmentStatus"},l("employmentStatus")),r.a.createElement("option",{value:""}),Xe),y.lastName&&r.a.createElement("p",null,y.lastName.message))),r.a.createElement("div",{className:"form-group  col-md-4"},r.a.createElement(g.a,null,r.a.createElement(h.a,null,"Highest Qualification *"),r.a.createElement("select",Object.assign({className:"form-control",name:"highestQualification",id:"highestQualification"},l("highestQualification")),r.a.createElement("option",{value:""}),_e),y.highestQualification&&r.a.createElement("p",null,y.highestQualification.message)))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"form-group mb-3 col-md-4"},r.a.createElement(g.a,null,r.a.createElement(h.a,null,"Marital Status"),r.a.createElement("select",Object.assign({className:"form-control",name:"maritalStatus",id:"maritalStatus"},l("maritalStatus")),r.a.createElement("option",{value:""}),We),y.maritalStatus&&r.a.createElement("p",null,y.maritalStatus.message))),r.a.createElement("div",{className:"form-group mb-3 col-md-4"},r.a.createElement(g.a,null,r.a.createElement(h.a,null,"Date Of Birth"),r.a.createElement("input",Object.assign({className:"form-control",type:"date",name:"dob",id:"dob",max:w},l("dob"))),y.dob&&r.a.createElement("p",null,y.dob.message))))))),r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},r.a.createElement("h5",{className:"card-title"},"Contact Details")),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"form-group  col-md-4"},r.a.createElement(g.a,null,r.a.createElement(h.a,null,"Phone Number *"),r.a.createElement("input",Object.assign({className:"form-control",type:"tel",name:"pnumber",id:"pnumber"},l("pnumber"),{placeholder:"(234)7099999999"})),y.pnumber&&r.a.createElement("p",null,y.pnumber.message))),r.a.createElement("div",{className:"form-group col-md-4"},r.a.createElement(g.a,null,r.a.createElement(h.a,null,"Alt. Phone Number"),r.a.createElement("input",Object.assign({className:"form-control",type:"tel",name:"altPhoneNumber",id:"altPhoneNumber"},l("altPhonenumber"),{placeholder:"(234)7099999999"})),y.altPhonenumber&&r.a.createElement("p",null,y.altPhonenumber.message))),r.a.createElement("div",{className:"form-group col-md-4"},r.a.createElement(g.a,null,r.a.createElement(h.a,null,"Email"),r.a.createElement("input",Object.assign({className:"form-control",type:"email",name:"email",id:"email"},l("email"))),y.email&&r.a.createElement("p",null,y.email.message)))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"form-group  col-md-4"},r.a.createElement(g.a,null,r.a.createElement(h.a,null,"Country"),r.a.createElement("select",Object.assign({className:"form-control",type:"text",name:"country",id:"country"},l("countryId"),{onChange:function(e){return Ye(e)}}),r.a.createElement("option",{value:""}),$e),y.country&&r.a.createElement("p",null,y.country.message))),r.a.createElement("div",{className:"form-group  col-md-4"},r.a.createElement(g.a,null,r.a.createElement(h.a,null,"State"),r.a.createElement("select",Object.assign({className:"form-control",type:"text",name:"stateId",id:"stateId"},l("stateId"),{onChange:function(e){return Ke(e)}}),r.a.createElement("option",{value:""}),et))),r.a.createElement("div",{className:"form-group  col-md-4"},r.a.createElement(g.a,null,r.a.createElement(h.a,null,"Province/District/LGA"),r.a.createElement("select",Object.assign({className:"form-control",type:"text",name:"district",id:"district"},l("district")),r.a.createElement("option",{value:""}),tt)))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"form-group  col-md-4"},r.a.createElement(g.a,null,r.a.createElement(h.a,null,"Street Address"),r.a.createElement("input",Object.assign({className:"form-control",type:"text",name:"address",id:"address"},l("address"))),y.address&&r.a.createElement("p",null,y.address.message))),r.a.createElement("div",{className:"form-group  col-md-4"},r.a.createElement(g.a,null,r.a.createElement(h.a,null,"Landmark"),r.a.createElement("input",Object.assign({className:"form-control",type:"text",name:"landmark",id:"landmark"},l("landmark"))),y.landmark&&r.a.createElement("p",null,y.landmark.message)))))),r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},r.a.createElement("h5",{className:"card-title"},"Relationship / Next Of Kin")),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"row"},H&&H.length>0&&r.a.createElement("div",{className:"col-xl-12 col-lg-12"},r.a.createElement("table",{style:{width:"100%"}},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Relationship Type"),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Phone"),r.a.createElement("th",null,"Address"),r.a.createElement("th",null,"Actions"))),r.a.createElement("tbody",null,H.map(function(e,t){return r.a.createElement("tr",{key:e.index},r.a.createElement("td",null,function(e){var t=Ne.find(function(t){return t.id==e});return t?t.display:""}(e.relationshipId)),r.a.createElement("td",null,(l=e).surname+", "+l.firstname+" "+(l.otherName?l.otherName:"")),r.a.createElement("td",null,(n=e.contactPoint)?n.value:""),r.a.createElement("td",null,(a=e.address)&&a.line&&a.line.length>0?a.line[0]:""),r.a.createElement("td",null,r.a.createElement("button",{type:"button",className:"btn btn-default btn-light btn-sm editRow",onClick:function(a){return function(e,t){c("relationshipType",e.relationshipId),c("cfirstName",e.firstname),c("cmiddleName",e.otherName),c("clastName",e.surname),c("contactPhoneNumber",e.contactPoint?e.contactPoint.value:""),c("contactAddress",e.address&&e.address.line&&e.address.line.length>0?e.address.line[0]:""),_(!0),ee(t)}(e,t)}},r.a.createElement(N.a,{icon:"edit"})),"\xa0\xa0",r.a.createElement("button",{type:"button",className:"btn btn-danger btn-sm removeRow",onClick:function(e){return function(e){setTimeout(function(){H.splice(e,1),Q(H),_(!0),_(!1)},500)}(t)}},r.a.createElement(N.a,{icon:"trash"}))));var a,n,l})))),r.a.createElement("div",{className:"col-xl-12 col-lg-12"},W&&r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"form-group mb-3 col-md-3"},r.a.createElement(g.a,null,r.a.createElement(h.a,{for:"relationshipType"},"Relationship Type *"),r.a.createElement("select",Object.assign({className:"form-control",name:"relationshipType",id:"relationshipType"},l("relationshipType")),r.a.createElement("option",{value:""}),Ze),y.relationshipType&&r.a.createElement("p",null,y.relationshipType.message))),r.a.createElement("div",{className:"form-group mb-3 col-md-3"},r.a.createElement(g.a,null,r.a.createElement(h.a,{for:"cfirstName"},"First Name *"),r.a.createElement("input",Object.assign({className:"form-control",type:"text",name:"cfirstName",id:"cfirstName"},l("cfirstName"))),y.cfirstName&&r.a.createElement("p",null,y.cfirstName.message))),r.a.createElement("div",{className:"form-group mb-3 col-md-3"},r.a.createElement(g.a,null,r.a.createElement(h.a,null,"Middle Name"),r.a.createElement("input",Object.assign({className:"form-control",type:"text",name:"cmiddleName",id:"cmiddleName"},l("cmiddleName"))),y.cmiddleName&&r.a.createElement("p",null,y.cmiddleName.message))),r.a.createElement("div",{className:"form-group mb-3 col-md-3"},r.a.createElement(g.a,null,r.a.createElement(h.a,null,"Last Name *"),r.a.createElement("input",Object.assign({className:"form-control",type:"text",name:"clastName",id:"clastName"},l("clastName"))),y.clastName&&r.a.createElement("p",null,y.clastName.message)))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"form-group mb-3 col-md-3"},r.a.createElement(g.a,null,r.a.createElement(h.a,{for:"contactPhoneNumber"},"Phone Number"),r.a.createElement("input",Object.assign({className:"form-control",type:"text",name:"contactPhoneNumber",id:"contactPhoneNumber"},l("contactPhoneNumber"))),y.contactPhoneNumber&&r.a.createElement("p",null,y.contactPhoneNumber.message))),r.a.createElement("div",{className:"form-group mb-3 col-md-3"},r.a.createElement(g.a,null,r.a.createElement(h.a,{for:"contactEmail"},"Email"),r.a.createElement("input",Object.assign({className:"form-control",type:"text",name:"contactEmail",id:"contactEmail"},l("contactEmail"))),y.contactEmail&&r.a.createElement("p",null,y.contactEmail.message))),r.a.createElement("div",{className:"form-group mb-3 col-md-3"},r.a.createElement(g.a,null,r.a.createElement(h.a,{for:"contactAddress"},"Address"),r.a.createElement("input",Object.assign({className:"form-control",type:"text",name:"contactAddress",id:"contactAddress"},l("contactAddress"))),y.contactAddress&&r.a.createElement("p",null,y.contactAddress.message)))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:""},r.a.createElement(f.a,{type:"button",variant:"contained",color:"primary",className:Ce.button,onClick:function(e){var t=i("relationshipType"),a=i("cfirstName"),n=i("cmiddleName"),r=i("clastName"),l=i("contactPhoneNumber"),c=(i("contactEmail"),i("contactAddress"));if(t)if(a)if(r){var s={address:{line:[c]},contactPoint:{type:"phone",value:l},firstname:a,fullName:a+" "+n+" "+r,relationshipId:t,surname:r,otherName:n};null!=$?(H.splice($,1),Q(H.concat(s))):Q(H.concat(s)),_(!1)}else d("clastName",{type:"custom",message:"LastName is required"},{shouldFocus:!0});else d("cfirstName",{type:"custom",message:"FirstName is required"},{shouldFocus:!0});else d("relationshipType",{type:"custom",message:"Relationship is required"},{shouldFocus:!0})}},"Add")),r.a.createElement("div",{className:""},r.a.createElement(f.a,{type:"button",variant:"contained",color:"secondary",className:Ce.button,onClick:function(){_(!1)}},"Cancel"))))))),r.a.createElement("div",{className:"row"},r.a.createElement(f.a,{type:"button",variant:"contained",color:"primary",className:Ce.button,startIcon:r.a.createElement(B.a,null),onClick:function(){_(!0)}},"Add a Relative/Next Of Kin")))),Y?r.a.createElement(C.a,null):"",r.a.createElement("br",null),r.a.createElement(f.a,{type:"submit",variant:"contained",color:"primary",className:Ce.button,startIcon:r.a.createElement(P.a,null)},Y?r.a.createElement("span",{style:{textTransform:"capitalize"}},"Saving..."):r.a.createElement("span",{style:{textTransform:"capitalize"}},"Save")),r.a.createElement(f.a,{variant:"contained",className:Ce.button,startIcon:r.a.createElement(z.a,null),onClick:function(){De.push("/")}},r.a.createElement("span",{style:{textTransform:"capitalize"}},"Cancel")))))))},Q=a(6),G=(a(419),a(741)),U=a(745),Y=a(23),K=a.n(Y),V=a(420),W=a(421),_=a(427),X=a(429),Z=a(356),$=a(428),ee=a(740),te=a(478),ae=a(729),ne=a(730);var re=Object(Q.a)(function(e){return{root:{width:"100%"},heading:{fontSize:e.typography.pxToRem(15)},secondaryHeading:{fontSize:e.typography.pxToRem(15),color:e.palette.text.secondary},icon:{verticalAlign:"bottom",height:20,width:20},details:{alignItems:"center"},column:{flexBasis:"20.33%"},helper:{borderLeft:"2px solid ".concat(e.palette.divider),padding:"".concat(e.spacing(1),"px ").concat(2*e.spacing(1),"px")},link:{color:e.palette.primary.main,textDecoration:"none","&:hover":{textDecoration:"underline"}}}})(function(e){var t=e.classes,a=e.patientObj?e.patientObj:{};return r.a.createElement("div",{className:t.root},r.a.createElement(V.a,{defaultExpanded:!0},r.a.createElement(W.a,null,r.a.createElement(ae.a,null,r.a.createElement(ne.a,{md:11},r.a.createElement(ae.a,{className:"mt-1"},r.a.createElement(ne.a,{md:12,className:t.root2},r.a.createElement("b",{style:{fontSize:"25px"}},a.surname+", "+a.firstname+" "+a.otherName)),r.a.createElement(ne.a,{md:4,className:t.root2},r.a.createElement("span",null," ","Hospital Number : ",r.a.createElement("b",null,function(e){var t=JSON.parse(e).identifier.find(function(e){return"HospitalNumber"==e.type});return t?t.value:""}(a.identifier)))),r.a.createElement(ne.a,{md:4,className:t.root2},r.a.createElement("span",null,"Date Of Birth : ",r.a.createElement("b",null,a.dateOfBirth))),r.a.createElement(ne.a,{md:4,className:t.root2},r.a.createElement("span",null," ","Age : ",r.a.createElement("b",null,function(e){var t=new Date,a=(e.split("-"),new Date(e)),n=t.getFullYear()-a.getFullYear(),r=t.getMonth()-a.getMonth();return(r<0||0===r&&t.getDate()<a.getDate())&&n--,0===n?r+" month(s)":n+" year(s)"}(a.dateOfBirth)))),r.a.createElement(ne.a,{md:4},r.a.createElement("span",null," ","Gender :"," ",r.a.createElement("b",null,JSON.parse(a.gender).value))),r.a.createElement(ne.a,{md:4,className:t.root2},r.a.createElement("span",null," ","Phone Number : ",r.a.createElement("b",null,function(e){var t=JSON.parse(e).contactPoint.find(function(e){return"phone"==e.type});return t?t.value:""}(a.contactPoint)))),r.a.createElement(ne.a,{md:4,className:t.root2},r.a.createElement("span",null," ","Address : ",r.a.createElement("b",null,function(e){var t=JSON.parse(e);return t&&t.address&&t.address.length>0?t.address[0].city:null}(a.address)," "))),r.a.createElement(ne.a,{md:12},r.a.createElement(te.a.Group,null,r.a.createElement(te.a,{color:"blue",size:"mini"},"Transfer"))))))),r.a.createElement(_.a,{className:t.details},r.a.createElement("div",{className:t.column},r.a.createElement(ee.a,{color:"red",content:"BloodType",label:{basic:!0,color:"red",pointing:"left",content:"AB+"}})),r.a.createElement("div",{className:t.column},r.a.createElement(ee.a,{basic:!0,color:"blue",content:"Height",icon:"fork",label:{as:"a",basic:!0,color:"blue",pointing:"left",content:"74.5 in"}})),r.a.createElement("div",{className:t.column},r.a.createElement(ee.a,{basic:!0,color:"blue",content:"Weight",icon:"fork",label:{as:"a",basic:!0,color:"blue",pointing:"left",content:"74.5 in"}})),r.a.createElement("div",{className:K()(t.column,t.helper)},r.a.createElement(Z.a,{variant:"caption"},r.a.createElement(te.a,{color:"red",size:"mini"},"Biometric Status",r.a.createElement(te.a.Detail,null,"Not Captured")),r.a.createElement(te.a,{color:"green",size:"mini"},"Patient Status",r.a.createElement(te.a.Detail,null,"Active"))))),r.a.createElement($.a,null),r.a.createElement(X.a,null)))});var le=Object(Q.a)(function(e){return{root:{width:"100%"},heading:{fontSize:e.typography.pxToRem(15)},secondaryHeading:{fontSize:e.typography.pxToRem(15),color:e.palette.text.secondary},icon:{verticalAlign:"bottom",height:20,width:20},details:{alignItems:"center"},column:{flexBasis:"20.33%"},helper:{borderLeft:"2px solid ".concat(e.palette.divider),padding:"".concat(e.spacing(1),"px ").concat(2*e.spacing(1),"px")},link:{color:e.palette.primary.main,textDecoration:"none","&:hover":{textDecoration:"underline"}}}})(function(e){var t=Object(s.g)(),a=e.classes,n=t.location&&t.location.state?t.location.state.patientObj:{};return console.log(n),r.a.createElement("div",{className:a.root},r.a.createElement(G.a,null,r.a.createElement(U.a,null,r.a.createElement(D.a,{to:"/"},r.a.createElement(f.a,{variant:"contained",color:"primary",className:" float-right mr-1"},r.a.createElement("span",{style:{textTransform:"capitalize"}},"Back"))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(re,{patientObj:n}))))}),ce=a(357),se=a.n(ce),ie=a(734),oe=a(735),me=a(742),ue=a(736),de=a(737),pe=a(738),Ee=a(477),fe=a(334),be=a(165),ge=(a(689),Object(j.a)(function(e){return{card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:350},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)}},input:{display:"none"},error:{color:"#f85032",fontSize:"11px"},success:{color:"#4BB543 ",fontSize:"11px"}}}),function(e){var t=Object(n.useState)([]),a=Object(u.a)(t,2),l=a[0],c=a[1],s=Object(n.useState)(""),i=Object(u.a)(s,2),d=i[0],E=(i[1],Object(n.useState)(!1)),b=Object(u.a)(E,2),g=b[0],h=b[1],N=Object(n.useState)(!1),v=Object(u.a)(N,2),y=v[0],O=v[1],x=Object(n.useCallback)(Object(m.a)(o.a.mark(function e(){var t;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.get("".concat(q,"patient/"),{headers:{Authorization:"Bearer ".concat(F)}});case 3:t=e.sent,c(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])})),[]),j=function(){var e=Object(m.a)(o.a.mark(function e(t){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!t){e.next=6;break}return e.next=4,p.a.delete("".concat(q,"patient/").concat(t),{headers:{Authorization:"Bearer ".concat(F)}});case 4:e.sent,window.location.reload();case 6:e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}},e,null,[[0,8]])}));return function(t){return e.apply(this,arguments)}}(),S=function(){h(!1)},k=function(e){var t=new Date,a=(e.split("-"),new Date(e)),n=t.getFullYear()-a.getFullYear(),r=t.getMonth()-a.getMonth();return(r<0||0===r&&t.getDate()<a.getDate())&&n--,0===n?r+" month(s)":n+" year(s)"},w=function(e){var t=JSON.parse(e).identifier.find(function(e){return"HospitalNumber"==e.type});return t?t.value:""},P=function(e){var t=JSON.parse(e);return t&&t.address&&t.address.length>0?t.address[0].city:null};return Object(n.useEffect)(function(){x()},[x]),r.a.createElement("div",null,r.a.createElement(T.a,{autoClose:3e3,hideProgressBar:!0}),r.a.createElement(ie.a,null,r.a.createElement(oe.a,null,r.a.createElement(D.a,{to:"register-patient"},r.a.createElement(f.a,{variant:"contained",color:"primary",className:" float-right mr-1",startIcon:r.a.createElement(Ee.a,{size:"10"})},r.a.createElement("span",{style:{textTransform:"capitalize"}},"New Patient"))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(se.a,{title:"Find patients",columns:[{title:"Patient Name",field:"name"},{title:"Patient ID",field:"id"},{title:"Gender",field:"gender"},{title:"Date Of Birth",field:"dateOfBirth",filtering:!1},{title:"Age",field:"age",filtering:!1},{title:"Address",field:"address",filtering:!1},{title:"Status",field:"status",filtering:!1},{title:"Actions",field:"actions",filtering:!1}],isLoading:d,data:l.map(function(e){return{name:e.firstname+" "+e.otherName+" "+e.surname,id:w(e.identifier),gender:(t=e.gender,JSON.parse(t).value),dateOfBirth:e.dateOfBirth,age:0===e.dateOfBirth||void 0===e.dateOfBirth||null===e.dateOfBirth||""===e.dateOfBirth?0:k(e.dateOfBirth),address:P(e.address),status:e.active?r.a.createElement(te.a,{color:"green",size:"mini"},"active"):r.a.createElement(te.a,{color:"teal",size:"mini"},"not-active"),actions:r.a.createElement("div",null,r.a.createElement(be.a,null,r.a.createElement(be.b,{style:{backgroundColor:"#3F51B5",color:"#fff",border:"2px solid #3F51B5",borderRadius:"4px"}},"Actions ",r.a.createElement("span",{"aria-hidden":!0},"\u25be")),r.a.createElement(be.d,{className:"menuClass"},r.a.createElement(be.c,{style:{color:"#000 !important"}},r.a.createElement(D.a,{to:{pathname:"/patient-dashboard",state:{patientObj:e}}},r.a.createElement(fe.a,{size:"15"})," ",r.a.createElement("span",{style:{color:"#000"}},"Patient Dashboard"))),r.a.createElement(be.c,{style:{color:"#000 !important"}},r.a.createElement(D.a,{to:{pathname:"/register-patient",state:{patientId:e.id}}},r.a.createElement(fe.c,{size:"15"})," ",r.a.createElement("span",{style:{color:"#000"}},"Edit Patient "))),r.a.createElement(be.c,{style:{color:"#000 !important"}},r.a.createElement(D.a,{onClick:function(t){return function(e){var t=l.find(function(t){return t.id==e});O(t),h(!g)}(e.id)},to:{pathname:"/#",currentId:e}},r.a.createElement(fe.b,{size:"15"})," ",r.a.createElement("span",{style:{color:"#000"}},"Delete Patient"))))))};var t}),options:{headerStyle:{color:"#000"},searchFieldStyle:{width:"200%",margingLeft:"250px"},filtering:!0,exportButton:!1,searchFieldAlignment:"left",pageSizeOptions:[10,20,100],pageSize:10,debounceInterval:400}}))),r.a.createElement(me.a,{isOpen:g,toggle:S},r.a.createElement(ue.a,{toggle:S},"Delete Patient"),r.a.createElement(de.a,null,"Are you sure to delete this record? ",y?y.surname+", "+y.firstname+" "+y.otherName:""),r.a.createElement(pe.a,null,r.a.createElement(f.a,{color:"primary",type:"button",onClick:function(e){return j(y.id)}},"Yes")," ",r.a.createElement(f.a,{color:"secondary",type:"button",onClick:function(e){return S()}},"No"))))});function he(){return r.a.createElement(s.a,null,r.a.createElement("div",null,r.a.createElement(T.a,null),r.a.createElement(s.d,null,r.a.createElement(s.b,{path:"/register-patient"},r.a.createElement(ve,null)),r.a.createElement(s.b,{path:"/patient-dashboard"},r.a.createElement(Ne,null)),r.a.createElement(s.b,{path:"/"},r.a.createElement(ge,null)))))}function Ne(){return r.a.createElement(le,null)}function ve(){return r.a.createElement(H,null)}a(696);c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(he,null)),document.getElementById("root"))}},[[497,1,2]]]);
//# sourceMappingURL=main.e924b5f6.chunk.js.map