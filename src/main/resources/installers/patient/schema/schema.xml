<?xml version="1.0" encoding="utf-8"?>
<databaseChangeLog
        xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.5.xsd">

    <property name="autoIncrement" value="true"/>

    <changeSet id="202220421-001" author="amos-data-fi">
        <sql>
        CREATE SEQUENCE if NOT EXISTS person_id_seq
        START WITH 1
        INCREMENT BY 1
        NO MINVALUE
        NO MAXVALUE
        CACHE 1;

        CREATE TABLE IF NOT EXISTS person
            (
            id bigint NOT NULL DEFAULT nextval('person_id_seq'::regclass),
            active boolean NOT NULL,
            address jsonb,
            archived integer,
            contact jsonb,
            contact_point jsonb,
            created_by character varying(255) COLLATE pg_catalog."default",
            date_created timestamp without time zone,
            date_modified timestamp without time zone,
            date_of_birth date NOT NULL,
            date_of_registration date NOT NULL,
            deceased boolean,
            deceased_date_time timestamp without time zone,
            education jsonb,
            employment_status jsonb,
            first_name character varying(255) COLLATE pg_catalog."default",
            gender jsonb,
            identifier jsonb,
            marital_status jsonb,
            modified_by character varying(255) COLLATE pg_catalog."default",
            organization jsonb,
            other_name character varying(255) COLLATE pg_catalog."default",
            surname character varying(255) COLLATE pg_catalog."default",
            uuid character varying(255) COLLATE pg_catalog."default",
            CONSTRAINT person_pkey PRIMARY KEY (id)
        )
        </sql>
    </changeSet>
    <changeSet id="202220421-002" author="amos-data-fi">
        <sql>
            ALTER TABLE person
                OWNER to postgres;
        </sql>
    </changeSet>
</databaseChangeLog>
