(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{521:function(e,t,a){},645:function(e,t,a){e.exports=a(854)},650:function(e,t,a){},854:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(30),c=a.n(l),i=(a(650),a(64)),o=a(17),s=a.n(o),m=a(31),u=a(9),d=a(60),p=a.n(d),f=a(599),E=a(526),b=a(921),g=a(922),h=a(923),v=a(924),y=a(470),N=a(214),x=a(324),O=a(601),j=a(62),S=a(581),k=a(522),C=a(524),w=a(525),D=a(473),I=a.n(D),P=a(585),A=a.n(P),z=a(586),B=a.n(z),T=a(133),R=(a(435),a(520),a(112)),W=a(583),M=a(69),F=new URLSearchParams(window.location.search).get("jwt"),V="/api/v1/";a(521);N.b.add(x.a,x.b,x.c,x.d);var q=Object(k.a)(function(e){return{card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:300},button:{margin:e.spacing(1)},root:{flexGrow:1,maxWidth:752},demo:{backgroundColor:e.palette.background.default},inline:{display:"inline"}}}),H=j.c().shape({dateOfRegistration:j.a().required(),hospitalNumber:j.d().required(),firstName:j.d().required(),middleName:j.d().nullable(),lastName:j.d().required(),sex:j.b().required(),employmentStatus:j.b().required(),highestQualification:j.b().required(),maritalStatus:j.b().required(),dob:j.a().required(),dateOfBirth:j.d().required(),age:j.b(),pnumber:j.d().required(),altPhonenumber:j.d().nullable(),email:j.d().nullable(),address:j.d().nullable(),landmark:j.d().nullable(),countryId:j.b().required(),stateId:j.b().required(),district:j.b().nullable()}),L=function(e){var t,a=Object(M.e)({resolver:Object(O.a)(H)}),l=a.register,c=a.setValue,o=a.getValues,d=a.setError,N=a.handleSubmit,x=a.formState.errors,j=Object(n.useState)((new Date).toISOString().substr(0,10).replace("T"," ")),k=Object(u.a)(j,2),D=k[0],P=(k[1],Object(n.useState)([])),z=Object(u.a)(P,2),L=z[0],G=z[1],Q=Object(n.useState)(!1),Y=Object(u.a)(Q,2),U=Y[0],J=(Y[1],Object(n.useState)(!0)),K=Object(u.a)(J,2),_=K[0],X=K[1],Z=Object(n.useState)(!1),$=Object(u.a)(Z,2),ee=$[0],te=$[1],ae=Object(n.useState)(null),ne=Object(u.a)(ae,2),re=ne[0],le=ne[1],ce=Object(n.useState)([]),ie=Object(u.a)(ce,2),oe=ie[0],se=ie[1],me=Object(n.useState)([]),ue=Object(u.a)(me,2),de=ue[0],pe=ue[1],fe=Object(n.useState)([]),Ee=Object(u.a)(fe,2),be=Ee[0],ge=Ee[1],he=Object(n.useState)([]),ve=Object(u.a)(he,2),ye=ve[0],Ne=ve[1],xe=Object(n.useState)([]),Oe=Object(u.a)(xe,2),je=Oe[0],Se=Oe[1],ke=Object(n.useState)([]),Ce=Object(u.a)(ke,2),we=Ce[0],De=Ce[1],Ie=Object(n.useState)([]),Pe=Object(u.a)(Ie,2),Ae=Pe[0],ze=Pe[1],Be=Object(n.useState)([]),Te=Object(u.a)(Be,2),Re=Te[0],We=Te[1],Me=e.location&&e.location.state?e.location.state.user:null,Fe=q(),Ve=Object(i.g)(),qe=Object(i.h)().state;t=qe?qe.patientId:null;var He=Object(n.useCallback)(Object(m.a)(s.a.mark(function e(){var a,n,r,l,i,o,m,u,d,E,b,g,h,v,y,N,x;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=46;break}return e.next=3,p.a.get("".concat(V,"patient/").concat(t),{headers:{Authorization:"Bearer ".concat(F)}});case 3:if(a=e.sent,n=a.data,r=n.contact?n.contact:[],G(r.contact),l=n.identifier,i=n.address,o=n.contactPoint,m=l.identifier.find(function(e){return"HospitalNumber"==e.type}),u=o.contactPoint.find(function(e){return"phone"==e.type}),d=o.contactPoint.find(function(e){return"email"==e.type}),E=o.contactPoint.find(function(e){return"altphone"==e.type}),b=i&&i.address&&i.address.length>0?i.address[0]:null,g=n.gender,h=n.employmentStatus,v=n.education,y=n.maritalStatus,c("dateOfRegistration",n.dateOfRegistration),c("firstName",n.firstName),c("middleName",n.otherName),c("lastName",n.surname),c("hospitalNumber",m?m.value:""),c("maritalStatus",y.id),c("employmentStatus",h.id),c("sex",g.id),c("highestQualification",v.id),c("dob",Object(f.a)(new Date(n.dateOfBirth),"yyyy-MM-dd")),!b){e.next=43;break}return c("countryId",b.countryId),e.next=33,_e(b.countryId);case 33:return N=e.sent,ze(N),c("stateId",b.stateId),e.next=38,_e(b.stateId);case 38:x=e.sent,We(x),c("district",b.district),c("address",b.city),c("landmark",b.line[0]);case 43:c("pnumber",u?u.value:null),c("email",d?d.value:null),c("altPhonenumber",E?E.value:null);case 46:case"end":return e.stop()}},e)})),[]),Le=function(){var e=Object(m.a)(s.a.mark(function e(a){var n,r,l,c;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n={active:!0,address:[{city:a.address,countryId:a.countryId,district:a.district,line:[a.landmark],organisationUnitId:0,postalCode:"",stateId:a.stateId}],contact:L,contactPoint:[],dateOfBirth:new Date(a.dob),deceased:!1,deceasedDateTime:null,firstName:a.firstName,genderId:a.sex,identifier:[{assignerId:1,type:"HospitalNumber",value:a.hospitalNumber}],otherName:a.middleName,maritalStatusId:a.maritalStatus,surname:a.lastName,educationId:a.highestQualification,employmentStatusId:a.employmentStatus,dateOfRegistration:a.dateOfRegistration,isDateOfBirthEstimated:"Actual"!=a.dateOfBirth},r={type:"phone",value:a.pnumber},a.email&&(l={type:"email",value:a.email},n.contactPoint.push(l)),a.altPhonenumber&&(c={type:"altphone",value:a.altPhonenumber},n.contactPoint.push(c)),n.contactPoint.push(r),!t){e.next=13;break}return n.id=null,e.next=10,p.a.put("".concat(V,"patient/").concat(t),n,{headers:{Authorization:"Bearer ".concat(F)}});case 10:e.sent,e.next=16;break;case 13:return e.next=15,p.a.post("".concat(V,"patient/"),n,{headers:{Authorization:"Bearer ".concat(F)}});case 15:e.sent;case 16:Ve.push("/"),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(0),console.log(e.t0);case 22:case"end":return e.stop()}},e,null,[[0,19]])}));return function(t){return e.apply(this,arguments)}}(),Ge=Object(n.useCallback)(Object(m.a)(s.a.mark(function e(){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.get("".concat(V,"application-codesets/v2/GENDER"),{headers:{Authorization:"Bearer ".concat(F)}});case 3:t=e.sent,se(t.data),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}},e,null,[[0,7]])})),[]),Qe=Object(n.useCallback)(Object(m.a)(s.a.mark(function e(){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.get("".concat(V,"application-codesets/v2/MARITAL_STATUS"),{headers:{Authorization:"Bearer ".concat(F)}});case 3:t=e.sent,pe(t.data),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}},e,null,[[0,7]])})),[]),Ye=Object(n.useCallback)(Object(m.a)(s.a.mark(function e(){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.get("".concat(V,"application-codesets/v2/EDUCATION"),{headers:{Authorization:"Bearer ".concat(F)}});case 3:t=e.sent,ge(t.data),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}},e,null,[[0,7]])})),[]),Ue=Object(n.useCallback)(Object(m.a)(s.a.mark(function e(){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.get("".concat(V,"application-codesets/v2/OCCUPATION"),{headers:{Authorization:"Bearer ".concat(F)}});case 3:t=e.sent,Ne(t.data),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}},e,null,[[0,7]])})),[]),Je=Object(n.useCallback)(Object(m.a)(s.a.mark(function e(){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.get("".concat(V,"application-codesets/v2/RELATIONSHIP"),{headers:{Authorization:"Bearer ".concat(F)}});case 3:t=e.sent,Se(t.data),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}},e,null,[[0,7]])})),[]),Ke=Object(n.useCallback)(Object(m.a)(s.a.mark(function e(){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("".concat(V,"organisation-units/parent-organisation-units/0"),{headers:{Authorization:"Bearer ".concat(F)}});case 2:t=e.sent,De(t.data);case 4:case"end":return e.stop()}},e)})),[]),_e=function(){var e=Object(m.a)(s.a.mark(function e(t){var a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("".concat(V,"organisation-units/parent-organisation-units/").concat(t),{headers:{Authorization:"Bearer ".concat(F)}});case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),Xe=function(){var e=Object(m.a)(s.a.mark(function e(t){var a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.target.value){e.next=7;break}return e.next=3,_e(t.target.value);case 3:a=e.sent,ze(a),e.next=8;break;case 7:ze([]);case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),Ze=function(){var e=Object(m.a)(s.a.mark(function e(t){var a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.target.value){e.next=7;break}return e.next=3,_e(t.target.value);case 3:a=e.sent,We(a),e.next=8;break;case 7:We([]);case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),$e=function(e){"Actual"==e.target.value?X(!0):"Estimated"==e.target.value&&X(!1)};Object(n.useEffect)(function(){Ge(),Qe(),Ye(),Ue(),Je(),Ke(),He()},[Ge,Qe,Ye,Ue,Je,Ke,He]);var et=null,tt=null,at=null,nt=null,rt=null,lt=null,ct=null,it=null;oe&&oe.length>0&&(et=oe.map(function(e,t){return r.a.createElement("option",{key:e.id,value:e.id},e.display)})),de&&de.length>0&&(tt=de.map(function(e,t){return r.a.createElement("option",{key:e.id,value:e.id},e.display)})),be&&be.length>0&&(at=be.map(function(e,t){return r.a.createElement("option",{key:e.id,value:e.id},e.display)})),ye&&ye.length>0&&(nt=ye.map(function(e,t){return r.a.createElement("option",{key:e.id,value:e.id},e.display)})),je&&je.length>0&&(rt=je.map(function(e,t){return r.a.createElement("option",{key:e.id,value:e.id},e.display)})),we&&we.length>0&&(lt=we.map(function(e,t){return r.a.createElement("option",{key:e.id,value:e.id},e.name)})),Ae&&Ae.length>0&&(ct=Ae.map(function(e,t){return r.a.createElement("option",{key:e.id,value:e.id},e.name)})),Re&&Re.length>0&&(it=Re.map(function(e,t){return r.a.createElement("option",{key:e.id,value:e.id},e.name)}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(T.a,{autoClose:3e3,hideProgressBar:!0}),r.a.createElement(C.a,{className:Fe.cardBottom},r.a.createElement(w.a,null,r.a.createElement(R.a,{to:{pathname:"/",state:"users"}},r.a.createElement(E.a,{variant:"contained",color:"primary",className:" float-right ms-1",style:{backgroundColor:"#04C4D9",fontWeight:"bolder"},startIcon:r.a.createElement(W.a,null)},r.a.createElement("span",{style:{textTransform:"capitalize"}},"Back "))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{className:"col-xl-12 col-lg-12"},r.a.createElement(b.a,{onSubmit:N(Le,function(e){console.error(e)})},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header",style:{backgroundColor:"#04C4D9",color:"#fff",fontWeight:"bolder"}},r.a.createElement("h5",{className:"card-title"},null===Me?"Basic Information":"Edit User Information")),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"basic-form"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"form-group mb-3 col-md-4"},r.a.createElement(g.a,null,r.a.createElement(h.a,{for:"dateOfRegistration"},"Date of Registration*"),r.a.createElement("input",Object.assign({className:"form-control",type:"date",name:"dateOfRegistration",id:"dateOfRegistration",max:D},l("dateOfRegistration"),{style:{border:"1px solid #04C4D9"}})),x.dateOfRegistration&&r.a.createElement("p",null,x.dateOfRegistration.message))),r.a.createElement("div",{className:"form-group mb-3 col-md-4"},r.a.createElement(g.a,null,r.a.createElement(h.a,{for:"patientId"},"Patient ID * "),r.a.createElement("input",Object.assign({className:"form-control",type:"text",name:"hospitalNumber",id:"hospitalNumber"},l("hospitalNumber"),{style:{border:"1px solid #04C4D9"}})),x.hospitalNumber&&r.a.createElement("p",null,x.hospitalNumber.message)))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"form-group mb-3 col-md-4"},r.a.createElement(g.a,null,r.a.createElement(h.a,{for:"firstName"},"First Name *"),r.a.createElement("input",Object.assign({className:"form-control",type:"text",name:"firstName",id:"firstName"},l("firstName"),{style:{border:"1px solid #04C4D9"}})),x.firstName&&r.a.createElement("p",null,x.firstName.message))),r.a.createElement("div",{className:"form-group mb-3 col-md-4"},r.a.createElement(g.a,null,r.a.createElement(h.a,null,"Middle Name"),r.a.createElement("input",Object.assign({className:"form-control",type:"text",name:"middleName",id:"middleName"},l("middleName"),{style:{border:"1px solid #04C4D9"}})),x.middleName&&r.a.createElement("p",null,x.middleName.message))),r.a.createElement("div",{className:"form-group mb-3 col-md-4"},r.a.createElement(g.a,null,r.a.createElement(h.a,null,"Last Name *"),r.a.createElement("input",Object.assign({className:"form-control",type:"text",name:"lastName",id:"lastName"},l("lastName"),{style:{border:"1px solid #04C4D9"}})),x.lastName&&r.a.createElement("p",null,x.lastName.message)))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"form-group  col-md-4"},r.a.createElement(g.a,null,r.a.createElement(h.a,null,"Sex *"),r.a.createElement("select",Object.assign({className:"form-control",name:"sex",id:"sex"},l("sex"),{style:{border:"1px solid #04C4D9"}}),r.a.createElement("option",{value:""}),et),x.sex&&r.a.createElement("p",null,x.sex.message))),r.a.createElement("div",{className:"form-group  col-md-4"},r.a.createElement(g.a,null,r.a.createElement(h.a,null,"Employment Status *"),r.a.createElement("select",Object.assign({className:"form-control",name:"employmentStatus",id:"employmentStatus"},l("employmentStatus"),{style:{border:"1px solid #04C4D9"}}),r.a.createElement("option",{value:""}),nt),x.lastName&&r.a.createElement("p",null,x.lastName.message))),r.a.createElement("div",{className:"form-group  col-md-4"},r.a.createElement(g.a,null,r.a.createElement(h.a,null,"Highest Qualification *"),r.a.createElement("select",Object.assign({className:"form-control",name:"highestQualification",id:"highestQualification"},l("highestQualification"),{style:{border:"1px solid #04C4D9"}}),r.a.createElement("option",{value:""}),at),x.highestQualification&&r.a.createElement("p",null,x.highestQualification.message)))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"form-group mb-3 col-md-3"},r.a.createElement(g.a,null,r.a.createElement(h.a,null,"Marital Status"),r.a.createElement("select",Object.assign({className:"form-control",name:"maritalStatus",id:"maritalStatus"},l("maritalStatus"),{style:{border:"1px solid #04C4D9"}}),r.a.createElement("option",{value:""}),tt),x.maritalStatus&&r.a.createElement("p",null,x.maritalStatus.message))),r.a.createElement("div",{className:"form-group mb-2 col-md-2"},r.a.createElement(g.a,null,r.a.createElement(h.a,null,"Date Of Birth"),r.a.createElement("div",{className:"radio"},r.a.createElement("label",null,r.a.createElement("input",Object.assign({type:"radio",value:"Actual",name:"dateOfBirth",defaultChecked:!0},l("dateOfBirth"),{onChange:function(e){return $e(e)},style:{border:"1px solid #04C4D9"}}))," Actual")),r.a.createElement("div",{className:"radio"},r.a.createElement("label",null,r.a.createElement("input",Object.assign({type:"radio",value:"Estimated",name:"dateOfBirth"},l("dateOfBirth"),{onChange:function(e){return $e(e)},style:{border:"1px solid #04C4D9"}}))," Estimated")))),r.a.createElement("div",{className:"form-group mb-3 col-md-3"},r.a.createElement(g.a,null,r.a.createElement(h.a,null,"Date"),r.a.createElement("input",Object.assign({className:"form-control",type:"date",name:"dob",id:"dob",max:D},l("dob"),{onChange:function(e){return function(e){if(e.target.value){var t=new Date,a=new Date(e.target.value),n=t.getFullYear()-a.getFullYear(),r=t.getMonth()-a.getMonth();(r<0||0===r&&t.getDate()<a.getDate())&&n--,c("age",n)}else c("age",null)}(e)},style:{border:"1px solid #04C4D9"}})),x.dob&&r.a.createElement("p",null,x.dob.message))),r.a.createElement("div",{className:"form-group mb-3 col-md-3"},r.a.createElement(g.a,null,r.a.createElement(h.a,null,"Age"),r.a.createElement("input",Object.assign({className:"form-control",type:"number",name:"age",id:"age"},l("age"),{disabled:_,onChange:function(e){return function(e){if(!_&&e.target.value){var t=new Date;t.setDate(15),t.setMonth(5);var a=S(t.toISOString()).add(-1*e.target.value,"years");c("dob",Object(f.a)(new Date(a.toDate()),"yyyy-MM-dd"))}}(e)},style:{border:"1px solid #04C4D9"}})))))))),r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header",style:{backgroundColor:"#04C4D9",color:"#fff",fontWeight:"bolder"}},r.a.createElement("h5",{className:"card-title"},"Contact Details")),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"form-group  col-md-4"},r.a.createElement(g.a,null,r.a.createElement(h.a,null,"Phone Number *"),r.a.createElement("input",Object.assign({className:"form-control",type:"tel",name:"pnumber",id:"pnumber"},l("pnumber"),{placeholder:"(234)7099999999",style:{border:"1px solid #04C4D9"}})),x.pnumber&&r.a.createElement("p",null,x.pnumber.message))),r.a.createElement("div",{className:"form-group col-md-4"},r.a.createElement(g.a,null,r.a.createElement(h.a,null,"Alt. Phone Number"),r.a.createElement("input",Object.assign({className:"form-control",type:"tel",name:"altPhoneNumber",id:"altPhoneNumber"},l("altPhonenumber"),{placeholder:"(234)7099999999",style:{border:"1px solid #04C4D9"}})),x.altPhonenumber&&r.a.createElement("p",null,x.altPhonenumber.message))),r.a.createElement("div",{className:"form-group col-md-4"},r.a.createElement(g.a,null,r.a.createElement(h.a,null,"Email"),r.a.createElement("input",Object.assign({className:"form-control",type:"email",name:"email",id:"email"},l("email"),{style:{border:"1px solid #04C4D9"}})),x.email&&r.a.createElement("p",null,x.email.message)))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"form-group  col-md-4"},r.a.createElement(g.a,null,r.a.createElement(h.a,null,"Country"),r.a.createElement("select",Object.assign({className:"form-control",type:"text",name:"country",id:"country",style:{border:"1px solid #04C4D9"}},l("countryId"),{onChange:function(e){return Xe(e)}}),r.a.createElement("option",{value:""}),lt),x.country&&r.a.createElement("p",null,x.country.message))),r.a.createElement("div",{className:"form-group  col-md-4"},r.a.createElement(g.a,null,r.a.createElement(h.a,null,"State"),r.a.createElement("select",Object.assign({className:"form-control",type:"text",name:"stateId",id:"stateId",style:{border:"1px solid #04C4D9"}},l("stateId"),{onChange:function(e){return Ze(e)}}),r.a.createElement("option",{value:""}),ct))),r.a.createElement("div",{className:"form-group  col-md-4"},r.a.createElement(g.a,null,r.a.createElement(h.a,null,"Province/District/LGA"),r.a.createElement("select",Object.assign({className:"form-control",type:"text",name:"district",id:"district",style:{border:"1px solid #04C4D9"}},l("district")),r.a.createElement("option",{value:""}),it)))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"form-group  col-md-4"},r.a.createElement(g.a,null,r.a.createElement(h.a,null,"Street Address"),r.a.createElement("input",Object.assign({className:"form-control",type:"text",name:"address",id:"address",style:{border:"1px solid #04C4D9"}},l("address"))),x.address&&r.a.createElement("p",null,x.address.message))),r.a.createElement("div",{className:"form-group  col-md-4"},r.a.createElement(g.a,null,r.a.createElement(h.a,null,"Landmark"),r.a.createElement("input",Object.assign({className:"form-control",type:"text",name:"landmark",id:"landmark",style:{border:"1px solid #04C4D9"}},l("landmark"))),x.landmark&&r.a.createElement("p",null,x.landmark.message)))))),r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header",style:{backgroundColor:"#04C4D9",color:"#fff",fontWeight:"bolder"}},r.a.createElement("h5",{className:"card-title"},"Relationship / Next Of Kin")),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"row"},L&&L.length>0&&r.a.createElement("div",{className:"col-xl-12 col-lg-12"},r.a.createElement("table",{style:{width:"100%"}},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Relationship Type"),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Phone"),r.a.createElement("th",null,"Address"),r.a.createElement("th",null,"Actions"))),r.a.createElement("tbody",null,L.map(function(e,t){return r.a.createElement("tr",{key:e.index},r.a.createElement("td",null,function(e){var t=je.find(function(t){return t.id==e});return t?t.display:""}(e.relationshipId)),r.a.createElement("td",null,(l=e).surname+", "+l.firstname+" "+(l.otherName?l.otherName:"")),r.a.createElement("td",null,(n=e.contactPoint)?n.value:""),r.a.createElement("td",null,(a=e.address)&&a.line&&a.line.length>0?a.line[0]:""),r.a.createElement("td",null,r.a.createElement("button",{type:"button",className:"btn btn-default btn-light btn-sm editRow",onClick:function(a){return function(e,t){c("relationshipType",e.relationshipId),c("cfirstName",e.firstname),c("cmiddleName",e.otherName),c("clastName",e.surname),c("contactPhoneNumber",e.contactPoint?e.contactPoint.value:""),c("contactAddress",e.address&&e.address.line&&e.address.line.length>0?e.address.line[0]:""),te(!0),le(t)}(e,t)}},r.a.createElement(y.a,{icon:"edit"})),"\xa0\xa0",r.a.createElement("button",{type:"button",className:"btn btn-danger btn-sm removeRow",onClick:function(e){return function(e){setTimeout(function(){L.splice(e,1),G(L),te(!0),te(!1)},500)}(t)}},r.a.createElement(y.a,{icon:"trash"}))));var a,n,l})))),r.a.createElement("div",{className:"col-xl-12 col-lg-12"},ee&&r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"form-group mb-3 col-md-3"},r.a.createElement(g.a,null,r.a.createElement(h.a,{for:"relationshipType"},"Relationship Type *"),r.a.createElement("select",Object.assign({className:"form-control",name:"relationshipType",id:"relationshipType",style:{border:"1px solid #04C4D9"}},l("relationshipType")),r.a.createElement("option",{value:""}),rt),x.relationshipType&&r.a.createElement("p",null,x.relationshipType.message))),r.a.createElement("div",{className:"form-group mb-3 col-md-3"},r.a.createElement(g.a,null,r.a.createElement(h.a,{for:"cfirstName"},"First Name *"),r.a.createElement("input",Object.assign({className:"form-control",type:"text",name:"cfirstName",id:"cfirstName",style:{border:"1px solid #04C4D9"}},l("cfirstName"))),x.cfirstName&&r.a.createElement("p",null,x.cfirstName.message))),r.a.createElement("div",{className:"form-group mb-3 col-md-3"},r.a.createElement(g.a,null,r.a.createElement(h.a,null,"Middle Name"),r.a.createElement("input",Object.assign({className:"form-control",type:"text",name:"cmiddleName",id:"cmiddleName",style:{border:"1px solid #04C4D9"}},l("cmiddleName"))),x.cmiddleName&&r.a.createElement("p",null,x.cmiddleName.message))),r.a.createElement("div",{className:"form-group mb-3 col-md-3"},r.a.createElement(g.a,null,r.a.createElement(h.a,null,"Last Name *"),r.a.createElement("input",Object.assign({className:"form-control",type:"text",name:"clastName",id:"clastName",style:{border:"1px solid #04C4D9"}},l("clastName"))),x.clastName&&r.a.createElement("p",null,x.clastName.message)))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"form-group mb-3 col-md-3"},r.a.createElement(g.a,null,r.a.createElement(h.a,{for:"contactPhoneNumber"},"Phone Number"),r.a.createElement("input",Object.assign({className:"form-control",type:"text",name:"contactPhoneNumber",id:"contactPhoneNumber",style:{border:"1px solid #04C4D9"}},l("contactPhoneNumber"))),x.contactPhoneNumber&&r.a.createElement("p",null,x.contactPhoneNumber.message))),r.a.createElement("div",{className:"form-group mb-3 col-md-3"},r.a.createElement(g.a,null,r.a.createElement(h.a,{for:"contactEmail"},"Email"),r.a.createElement("input",Object.assign({className:"form-control",type:"text",name:"contactEmail",id:"contactEmail",style:{border:"1px solid #04C4D9"}},l("contactEmail"))),x.contactEmail&&r.a.createElement("p",null,x.contactEmail.message))),r.a.createElement("div",{className:"form-group mb-3 col-md-3"},r.a.createElement(g.a,null,r.a.createElement(h.a,{for:"contactAddress"},"Address"),r.a.createElement("input",Object.assign({className:"form-control",type:"text",name:"contactAddress",id:"contactAddress",style:{border:"1px solid #04C4D9"}},l("contactAddress"))),x.contactAddress&&r.a.createElement("p",null,x.contactAddress.message)))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:""},r.a.createElement(E.a,{type:"button",variant:"contained",color:"primary",className:Fe.button,onClick:function(e){var t=o("relationshipType"),a=o("cfirstName"),n=o("cmiddleName"),r=o("clastName"),l=o("contactPhoneNumber"),c=(o("contactEmail"),o("contactAddress"));if(t)if(a)if(r){var i={address:{line:[c]},contactPoint:{type:"phone",value:l},firstName:a,fullName:a+" "+n+" "+r,relationshipId:t,surname:r,otherName:n};null!=re?(L.splice(re,1),G(L.concat(i))):G(L.concat(i)),te(!1)}else d("clastName",{type:"custom",message:"LastName is required"},{shouldFocus:!0});else d("cfirstName",{type:"custom",message:"FirstName is required"},{shouldFocus:!0});else d("relationshipType",{type:"custom",message:"Relationship is required"},{shouldFocus:!0})}},"Add")),r.a.createElement("div",{className:""},r.a.createElement(E.a,{type:"button",variant:"contained",color:"secondary",className:Fe.button,onClick:function(){te(!1)}},"Cancel"))))))),r.a.createElement("div",{className:"row"},r.a.createElement(E.a,{type:"button",variant:"contained",color:"primary",className:Fe.button,startIcon:r.a.createElement(A.a,null),onClick:function(){te(!0)},style:{backgroundColor:"#04C4D9",fontWeight:"bolder"}},"Add a Relative/Next Of Kin")))),U?r.a.createElement(v.a,null):"",r.a.createElement("br",null),r.a.createElement(E.a,{type:"submit",variant:"contained",color:"primary",className:Fe.button,startIcon:r.a.createElement(I.a,null)},U?r.a.createElement("span",{style:{textTransform:"capitalize"}},"Saving..."):r.a.createElement("span",{style:{textTransform:"capitalize"}},"Save")),r.a.createElement(E.a,{variant:"contained",className:Fe.button,startIcon:r.a.createElement(B.a,null),onClick:function(){Ve.push("/")}},r.a.createElement("span",{style:{textTransform:"capitalize"}},"Cancel")))))))},G=(a(6),a(474)),Q=a(10),Y=(a(527),a(950)),U=a(38),J=a.n(U),K=a(528),_=a(529),X=a(530),Z=a(537),$=a(449),ee=a(536),te=a(925),ae=a(926);var ne=Object(Q.a)(function(e){return{root:{width:"100%"},heading:{fontSize:e.typography.pxToRem(15)},secondaryHeading:{fontSize:e.typography.pxToRem(15),color:e.palette.text.secondary},icon:{verticalAlign:"bottom",height:20,width:20},details:{alignItems:"center"},column:{flexBasis:"20.33%"},helper:{},link:{color:e.palette.primary.main,textDecoration:"none","&:hover":{textDecoration:"underline"}}}})(function(e){var t,a=e.classes,n=e.patientObj?e.patientObj:{};return r.a.createElement("div",{className:a.root},r.a.createElement(K.a,{defaultExpanded:!0},r.a.createElement(_.a,null,r.a.createElement(te.a,null,r.a.createElement(ae.a,{md:11},r.a.createElement(te.a,{className:"mt-1"},r.a.createElement(ae.a,{md:12,className:a.root2},r.a.createElement("b",{style:{fontSize:"25px",color:"rgb(4, 196, 217)"}},n.surname+", "+n.firstName+" "+n.otherName)),r.a.createElement(ae.a,{md:4,className:a.root2},r.a.createElement("span",{style:{fontWeight:"bolder"}}," ","Hospital Number : ",r.a.createElement("b",{style:{color:"rgb(4, 196, 217)"}},function(e){var t=e.identifier.find(function(e){return"HospitalNumber"==e.type});return t?t.value:""}(n.identifier)))),r.a.createElement(ae.a,{md:4,className:a.root2},r.a.createElement("span",{style:{fontWeight:"bolder"}},"Date Of Birth : ",r.a.createElement("b",{style:{color:"rgb(4, 196, 217)"}},n.dateOfBirth))),r.a.createElement(ae.a,{md:4,className:a.root2},r.a.createElement("span",{style:{fontWeight:"bolder"}}," ","Age : ",r.a.createElement("b",{style:{color:"rgb(4, 196, 217)"}},function(e){var t=new Date,a=(e.split("-"),new Date(e)),n=t.getFullYear()-a.getFullYear(),r=t.getMonth()-a.getMonth();return(r<0||0===r&&t.getDate()<a.getDate())&&n--,0===n?r+" month(s)":n+" year(s)"}(n.dateOfBirth)))),r.a.createElement(ae.a,{md:4},r.a.createElement("span",{style:{fontWeight:"bolder"}}," ","Gender :"," ",r.a.createElement("b",{style:{color:"rgb(4, 196, 217)"}},n.gender.display))),r.a.createElement(ae.a,{md:4,className:a.root2},r.a.createElement("span",{style:{fontWeight:"bolder"}}," ","Phone Number : ",r.a.createElement("b",{style:{color:"rgb(4, 196, 217)"}},function(e){var t=e.contactPoint.find(function(e){return"phone"==e.type});return t?t.value:""}(n.contactPoint)))),r.a.createElement(ae.a,{md:4,className:a.root2},r.a.createElement("span",{style:{fontWeight:"bolder"}}," ","Address : ",r.a.createElement("b",{style:{color:"rgb(4, 196, 217)"}},(t=n.address)&&t.address&&t.address.length>0?t.address[0].city:null," "))))))),r.a.createElement(X.a,{className:a.details},r.a.createElement("div",{className:J()(a.helper)},r.a.createElement($.a,{variant:"caption"},r.a.createElement(Y.a,{color:"red",size:"mini",style:{fontSize:"12px"}},"Biometric Status",r.a.createElement(Y.a.Detail,null,"Not Captured")),r.a.createElement(Y.a,{color:"green",size:"mini",style:{fontSize:"12px"}},"Patient Status",r.a.createElement(Y.a.Detail,null,"Active"))))),r.a.createElement(ee.a,null),r.a.createElement(Z.a,null)))}),re=a(949),le=a(945),ce=a(956),ie=a(939),oe=a(940),se=a(952),me=a(162),ue=a.n(me),de=a(957),pe=a(972),fe=a(973),Ee=a(969),be=a(968),ge=a(963),he=a(966),ve=a(958),ye=a(309),Ne=a.n(ye),xe=a(953),Oe=a(590),je=a.n(Oe),Se=a(592),ke=a.n(Se),Ce=r.a.createElement(je.a,{fontSize:"small"}),we=r.a.createElement(ke.a,{fontSize:"small"}),De=[{field:"id",headerName:"ID",width:90},{field:"firstName",headerName:"First name",width:150,editable:!0},{field:"lastName",headerName:"Last name",width:150,editable:!0},{field:"age",headerName:"Age",type:"number",width:110,editable:!0},{field:"fullName",headerName:"Full name",description:"This column has a value getter and is not sortable.",sortable:!1,width:160,valueGetter:function(e){return"".concat(e.row.firstName||""," ").concat(e.row.lastName||"")}}],Ie=[{id:1,lastName:"Snow",firstName:"Jon",age:35}],Pe=new Date;var Ae=Object(Q.a)(function(e){return{root:{width:"100%"},heading:{fontSize:e.typography.pxToRem(15)},secondaryHeading:{fontSize:e.typography.pxToRem(15),color:e.palette.text.secondary},icon:{verticalAlign:"bottom",height:20,width:20},details:{alignItems:"center"},column:{flexBasis:"20.33%"},helper:{borderLeft:"2px solid ".concat(e.palette.divider),padding:"".concat(e.spacing(1),"px ").concat(2*e.spacing(1),"px")},link:{color:e.palette.primary.main,textDecoration:"none","&:hover":{textDecoration:"underline"}}}})(function(e){var t=Object(n.useState)(""),a=Object(u.a)(t,2),l=a[0],c=(a[1],Object(i.g)()),o=e.classes,d=c.location&&c.location.state?c.location.state.patientObj:{},b=Object(M.e)(),g=(b.handleSubmit,b.control,Object(n.useState)(!1)),h=Object(u.a)(g,2),v=h[0],y=h[1],N=Object(n.useState)(!1),x=Object(u.a)(N,2),O=x[0],j=x[1],S=Object(n.useState)(!1),k=Object(u.a)(S,2),C=k[0],w=k[1],D=Object(n.useState)([]),I=Object(u.a)(D,2),P=I[0],A=I[1],z=Object(n.useState)({checkInServices:""}),B=Object(u.a)(z,2),W=B[0],q=B[1],H=Object(n.useState)([]),L=Object(u.a)(H,2),Q=L[0],U=L[1],J=Object(n.useState)({facilityId:1,personId:"",visitEndDate:Object(f.a)(new Date(Pe),"yyyy-MM-dd"),visitStartDate:""}),K=Object(u.a)(J,2),_=(K[0],K[1],Object(n.useState)({serviceIds:"",visitDto:{facilityId:1,personId:d.id,visitEndDate:"",visitStartDate:Object(f.a)(new Date(Pe),"yyyy-MM-dd")}})),X=Object(u.a)(_,2),Z=X[0],$=(X[1],Object(n.useCallback)(Object(m.a)(s.a.mark(function e(){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.get("".concat(V,"patient/post-service"),{headers:{Authorization:"Bearer ".concat(F)}});case 3:t=e.sent,A(t.data),e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(0),e.next=11,ue.a.fire({icon:"error",title:"Oops...",text:"An error occurred fetching services!"});case 11:case"end":return e.stop()}},e,null,[[0,7]])})),[])),ee=Object(n.useCallback)(Object(m.a)(s.a.mark(function e(){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.get("".concat(V,"patient/visit/visit-detail/").concat(d.id),{headers:{Authorization:"Bearer ".concat(F)}});case 3:t=e.sent,U(t.data),t.data.map(function(e){null===e.checkOutDate&&j(!0)}),e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(0),e.next=12,ue.a.fire({icon:"error",title:"Oops...",text:"An error occurred fetching services!"});case 12:case"end":return e.stop()}},e,null,[[0,8]])})),[]);Object(n.useEffect)(function(){$(),ee()},[$,ee]),P&&P.length>0&&P.map(function(e,t){return r.a.createElement(de.a,{key:e.moduleServiceCode,value:e.moduleServiceCode},e.moduleServiceName)});var te=[{menuItem:"Patient Visit",render:function(){return r.a.createElement(re.a.Pane,null,r.a.createElement(Ne.a,{title:"",columns:[{title:"Checked In Date",field:"checkInDate",filtering:!1},{title:"Check Out Date",field:"checkOutDate",filtering:!1},{title:"Service",field:"service",filtering:!1},{title:"Status",field:"status",filtering:!1}],isLoading:l,data:Q.map(function(e){return{checkInDate:e.checkInDate,checkOutDate:e.checkOutDate,service:e.service,status:r.a.createElement(Y.a,{color:"COMPLETED"===e.status?"green":"red",size:"mini"},e.status)}}),options:{headerStyle:{backgroundColor:"#000",color:"#ffffff"},search:!0,filtering:!1,exportButton:!1,searchFieldAlignment:"left",pageSizeOptions:[10,20,100],pageSize:10,debounceInterval:400}}))}},{menuItem:"Appointments",render:function(){return r.a.createElement(re.a.Pane,null,r.a.createElement("div",{style:{height:400,width:"100%"}},r.a.createElement(le.a,{rows:Ie,columns:De,pageSize:5,rowsPerPageOptions:[5],checkboxSelection:!0,disableSelectionOnClick:!0})))}}],ae=function(){y(!1)},me=function(){w(!1)},ye=[];return r.a.createElement("div",{className:o.root},r.a.createElement(pe.a,null,r.a.createElement(fe.a,null,r.a.createElement(ne,{patientObj:d}),r.a.createElement(pe.a,null,r.a.createElement(fe.a,null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"mb-3 col-md-3"},"\xa0"),r.a.createElement("div",{className:"mb-3 col-md-3"},"\xa0"),r.a.createElement("div",{className:"mb-3 col-md-3"},"\xa0"),r.a.createElement("div",{className:"mb-3 col-md-3"},r.a.createElement(R.a,{to:"/"},r.a.createElement(E.a,{variant:"contained",color:"primary",className:" float-right mr-1"},r.a.createElement("span",{style:{textTransform:"capitalize"}},"Back"))),!1===O?r.a.createElement(Ee.a,{variant:"contained",style:{backgroundColor:"black"},onClick:function(){y(!0)},className:" float-right mr-1"},r.a.createElement("span",{style:{textTransform:"capitalize"}},"CheckIn")):"",!0===O?r.a.createElement(Ee.a,{variant:"contained",style:{backgroundColor:"black"},onClick:function(){w(!0)},className:" float-right mr-1"},r.a.createElement("span",{style:{textTransform:"capitalize"}},"CheckOut")):"")),r.a.createElement(re.a,{panes:te}))))),r.a.createElement(ce.a,{isOpen:v,toggle:ae},r.a.createElement(ie.a,{toggle:ae},"Select a Service Area"),r.a.createElement(oe.a,null,r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),W.checkInServices.length>0&&W.checkInServices.map(function(e){null!==e.id&&(ye.push(e.id),console.log(e))}),Z.serviceIds=ye,p.a.post("".concat(V,"patient/visit/checkin"),Z,{headers:{Authorization:"Bearer ".concat(F)}}).then(function(e){T.b.success("Patient Check-In successful"),j(!0),ae(),ee()}).catch(function(e){console.log(e),T.b.error("Something went wrong"),ae()})}},r.a.createElement(be.a,{style:{display:"grid",gridRowGap:"20px",padding:"20px",margin:"10px 10px"}},r.a.createElement(ge.a,{container:!0,spacing:2},r.a.createElement(ge.a,{item:!0,xs:8},r.a.createElement(he.a,null,r.a.createElement(xe.a,{multiple:!0,id:"checkboxes-tags-demo",options:P,getOptionLabel:function(e){return e.moduleServiceName},onChange:function(e,t){console.log(t),q(Object(G.a)({},W,{checkInServices:t}))},renderOption:function(e,t,a){var n=a.selected;return r.a.createElement("li",e,r.a.createElement(se.a,{icon:Ce,checkedIcon:we,style:{marginRight:8},checked:n}),t.moduleServiceName)},style:{width:400},renderInput:function(e){return r.a.createElement(ve.a,Object.assign({},e,{label:"Services"}))}})))),r.a.createElement(ge.a,{container:!0,spacing:2},r.a.createElement(ge.a,{item:!0,xs:12},r.a.createElement(Ee.a,{type:"submit",variant:"contained",color:"primary"},"Submit"))))))),r.a.createElement(ce.a,{isOpen:C,toggle:me},r.a.createElement(ie.a,{toggle:me},"CheckOut "),r.a.createElement(oe.a,null,r.a.createElement("form",null,r.a.createElement(be.a,{style:{display:"grid",gridRowGap:"20px",padding:"20px",margin:"10px 10px"}},r.a.createElement(ge.a,{container:!0,spacing:2},r.a.createElement(ge.a,{item:!0,xs:12},r.a.createElement("h5",null,"Are you sure you want to check-out patient?"))),r.a.createElement(ge.a,{container:!0,spacing:2},r.a.createElement(ge.a,{item:!0,xs:12},r.a.createElement(Ee.a,{type:"submit",onClick:function(e){e.preventDefault();var t=Q.find(function(e){return"PENDING"===e.status});p.a.put("".concat(V,"patient/visit/checkout/").concat(t.id),t.id,{headers:{Authorization:"Bearer ".concat(F)}}).then(function(e){T.b.success("Record save successful"),j(!1),me(),ee()}).catch(function(e){console.log(e),T.b.error("Something went wrong"),me()})},variant:"contained",color:"primary"},"Yes"))))))))}),ze=a(942),Be=a(943),Te=a(944),Re=a(322),We=a(217),Me=(a(855),a(852),a(974)),Fe=a(937),Ve=a(935),qe=a(948),He=a(961),Le=a(971),Ge=a(941),Qe=["Delete","Edit"];function Ye(e){var t=n.useState(!1),a=Object(u.a)(t,2),r=a[0],l=a[1],c=Object(n.useRef)(null),i=n.useState(1),o=Object(u.a)(i,2),s=o[0],m=(o[1],function(){l(!1)});return n.createElement(n.Fragment,null,n.createElement(Me.a,{variant:"contained",ref:c,style:{backgroundColor:"rgb(4, 196, 217)",height:"30px",width:"130px"}},n.createElement(R.a,{to:e.actions[0].to},n.createElement(Ee.a,{size:"small",onClick:function(){console.info("You clicked ".concat(Qe[s]))},variant:"contained",startIcon:e.actions[0].icon,style:{backgroundColor:"rgb(4, 196, 217)"}},n.createElement(Le.a,{variant:"h7",style:{fontWeight:"bolder"}},e.actions[0].name))),n.createElement(Ge.a,{orientation:"vertical",flexItem:!0}),n.createElement(Ee.a,{size:"medium","aria-controls":r?"split-button-menu":void 0,"aria-expanded":r?"true":void 0,"aria-label":"select merge strategy","aria-haspopup":"menu",onClick:function(){l(function(e){return!e})},style:{backgroundColor:"rgb(4, 196, 217)"}},n.createElement(Re.a,{size:"24"}))),n.createElement(qe.a,{open:r,anchorEl:c.current,role:void 0,transition:!0,disablePortal:!0,style:{zIndex:"10000"}},function(t){var a=t.TransitionProps,r=t.placement;return n.createElement(Ve.a,Object.assign({},a,{style:{transformOrigin:"bottom"===r?"center top":"center bottom",zIndex:"1000"}}),n.createElement(be.a,{sx:{maxWidth:"100%",marginTop:"2px",zIndex:"1000"}},n.createElement(Fe.a,{onClickAway:m},n.createElement(He.a,{id:"split-button-menu",autoFocusItem:!0},e.actions.slice(1).map(function(e,t){return n.createElement(de.a,{key:Math.random()},n.createElement(R.a,{to:e.to},e.icon,n.createElement("span",{style:{color:"#645f5f",fontWeight:"bolder",fontSize:"12px"}},e.name)))})))))}))}Object(k.a)(function(e){return{card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:350},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)}},input:{display:"none"},error:{color:"#f85032",fontSize:"11px"},success:{color:"#4BB543 ",fontSize:"11px"}}}),We.c,We.b,We.a;var Ue=function(e){var t=Object(n.useState)([]),a=Object(u.a)(t,2),l=a[0],c=a[1],i=Object(n.useState)(""),o=Object(u.a)(i,2),d=o[0],f=(o[1],Object(n.useState)(!1)),b=Object(u.a)(f,2),g=b[0],h=b[1],v=Object(n.useState)(!1),y=Object(u.a)(v,2),N=y[0],x=(y[1],Object(n.useCallback)(Object(m.a)(s.a.mark(function e(){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.get("".concat(V,"patient"),{headers:{Authorization:"Bearer ".concat(F)}});case 3:t=e.sent,c(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])})),[])),O=function(){var e=Object(m.a)(s.a.mark(function e(t){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!t){e.next=6;break}return e.next=4,p.a.delete("".concat(V,"patient/").concat(t),{headers:{Authorization:"Bearer ".concat(F)}});case 4:e.sent,window.location.reload();case 6:e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}},e,null,[[0,8]])}));return function(t){return e.apply(this,arguments)}}(),j=function(){h(!1)},S=function(e){var t=new Date,a=(e.split("-"),new Date(e)),n=t.getFullYear()-a.getFullYear(),r=t.getMonth()-a.getMonth();return(r<0||0===r&&t.getDate()<a.getDate())&&n--,0===n?r+" month(s)":n+" year(s)"},k=function(e){var t=e.identifier.find(function(e){return"HospitalNumber"==e.type});return t?t.value:""};function C(e){return[{name:"View",icon:r.a.createElement(Re.b,{size:"22"}),to:{pathname:"/register-patient",state:{patientId:e.id}}},{name:"Patient Dashboard",icon:r.a.createElement(We.c,{size:"20",color:"rgb(4, 196, 217)"}),to:{pathname:"/patient-dashboard",state:{patientObj:e}}},{name:"Edit Patient",icon:r.a.createElement(We.b,{size:"20",color:"rgb(4, 196, 217)"}),to:{pathname:"/register-patient",state:{patientId:e.id}}},{name:"Delete Patient",icon:r.a.createElement(We.a,{size:"20",color:"rgb(4, 196, 217)"}),to:{pathname:"/#",state:{patientObj:e}}}]}return Object(n.useEffect)(function(){x()},[x]),r.a.createElement("div",null,r.a.createElement(T.a,{autoClose:3e3,hideProgressBar:!0}),r.a.createElement(ze.a,null,r.a.createElement(Be.a,null,r.a.createElement(R.a,{to:"register-patient"},r.a.createElement(E.a,{variant:"contained",color:"primary",className:" float-right mr-1",startIcon:r.a.createElement(Re.c,{size:"25"}),style:{backgroundColor:"rgb(4, 196, 217)"}},r.a.createElement("span",{style:{textTransform:"capitalize",fontWeight:"bolder"}},"New Patient"))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(Ne.a,{title:"Find patients",columns:[{title:"Patient Name",field:"name",filtering:!1},{title:"Patient ID",field:"id",filtering:!1},{title:"Gender",field:"gender",filtering:!1},{title:"Date Of Birth",field:"dateOfBirth",filtering:!1},{title:"Age",field:"age",filtering:!1},{title:"Status",field:"status",filtering:!1},{title:"Actions",field:"actions",filtering:!1}],isLoading:d,data:l.map(function(e){return{name:e.firstName+" "+e.otherName+" "+e.surname,id:k(e.identifier),gender:(t=e.gender,t.display),dateOfBirth:e.dateOfBirth,age:0===e.dateOfBirth||void 0===e.dateOfBirth||null===e.dateOfBirth||""===e.dateOfBirth?0:S(e.dateOfBirth),status:e.active?"Active":"Not-Active",actions:r.a.createElement("div",null,r.a.createElement(Ye,{actions:C(e)}))};var t}),options:{headerStyle:{color:"#000"},searchFieldStyle:{width:"200%",margingLeft:"250px"},filtering:!0,exportButton:!1,searchFieldAlignment:"left",pageSizeOptions:[10,20,100],pageSize:10,debounceInterval:400}}))),r.a.createElement(ce.a,{isOpen:g,toggle:j},r.a.createElement(ie.a,{toggle:j},"Delete Patient"),r.a.createElement(oe.a,null,"Are you sure to delete this record? ",N?N.surname+", "+N.firstname+" "+N.otherName:""),r.a.createElement(Te.a,null,r.a.createElement(E.a,{color:"primary",type:"button",onClick:function(e){return O(N.id)}},"Yes")," ",r.a.createElement(E.a,{color:"secondary",type:"button",onClick:function(e){return j()}},"No"))))},Je=a(964),Ke=a(595),_e=a.n(Ke),Xe=[{field:"weight",headerName:"Weight",width:200,editable:!1},{field:"height",headerName:"Height",width:200,editable:!1},{field:"temperature",headerName:"Temperature",width:200,editable:!1},{field:"status",headerName:"Status",width:200,editable:!1}],Ze=function(){return r.a.createElement(pe.a,null,r.a.createElement(fe.a,null,r.a.createElement(ge.a,{container:!0,spacing:2},r.a.createElement(ge.a,{item:!0,xs:3},"\xa0"),r.a.createElement(ge.a,{item:!0,xs:3},"\xa0"),r.a.createElement(ge.a,{item:!0,xs:3},"\xa0"),r.a.createElement(ge.a,{item:!0,xs:3},r.a.createElement(Je.a,{m:1,display:"flex",justifyContent:"center",alignItems:"center"},r.a.createElement(R.a,{to:{pathname:"/add-patient-vital"}},r.a.createElement(Ee.a,{variant:"contained",style:{backgroundColor:"black"}},r.a.createElement(_e.a,null)," Add Vital Signs"))))),r.a.createElement(ge.a,{container:!0,spacing:2},r.a.createElement(ge.a,{item:!0,xs:12},r.a.createElement(Je.a,{height:"200px"},r.a.createElement(le.a,{rows:[],columns:Xe,pageSize:5,rowsPerPageOptions:[5],disableSelectionOnClick:!0}))))))},$e=a(596),et=a(947),tt=a(946),at=function(){var e=Object(M.e)(),t=e.handleSubmit,a=e.control,n=function(){var e=Object(m.a)(s.a.mark(function e(t){var a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.prev=1,a={bodyWeight:t.Weight,diastolic:t.Diastolic,encounterDate:t.DateOfVitalSigns,height:t.Height,personId:1,systolic:t.Systolic},e.next=5,p.a.post("".concat(V,"patient/vital-sign"),a,{headers:{Authorization:"Bearer ".concat(F)}});case 5:return e.next=7,ue.a.fire({icon:"success",text:"Add Patient Vital successfully",timer:1500});case 7:e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(1),e.next=13,ue.a.fire({icon:"error",title:"Oops...",text:"An error occurred while saving patient vitals!"});case 13:case"end":return e.stop()}},e,null,[[1,9]])}));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(pe.a,null,r.a.createElement(fe.a,null,r.a.createElement("form",{onSubmit:t(n,function(){})},r.a.createElement(be.a,{style:{display:"grid",gridRowGap:"20px",padding:"20px",margin:"10px 10px"}},r.a.createElement(Le.a,{variant:"h6"},"Take Patient Vitals"),r.a.createElement(ge.a,{container:!0,spacing:2},r.a.createElement(ge.a,{item:!0,xs:6},r.a.createElement(he.a,{fullWidth:!0},r.a.createElement($e.a,{dateAdapter:et.a},r.a.createElement(M.a,{name:"DateOfVitalSigns",control:a,defaultValue:null,render:function(e){var t=e.field,a=t.onChange,n=t.value,l=e.fieldState.error;return r.a.createElement(tt.a,{renderInput:function(e){return r.a.createElement(ve.a,e)},label:"Date Of Vital Signs",selected:n,value:n,onChange:a,error:!!l,helperText:l?l.message:null})}})))),r.a.createElement(ge.a,{item:!0,xs:6},r.a.createElement(he.a,{fullWidth:!0},r.a.createElement(M.a,{name:"Pulse",control:a,defaultValue:"",render:function(e){var t=e.field,a=t.onChange,n=t.value,l=e.fieldState.error;return r.a.createElement(ve.a,{label:"Pulse(bpm)",id:"Pulse",variant:"outlined",value:n,onChange:a,error:!!l,helperText:l?l.message:null})}}))),r.a.createElement(ge.a,{item:!0,xs:6},r.a.createElement(he.a,{fullWidth:!0},r.a.createElement(M.a,{name:"RespiratoryRate",control:a,defaultValue:"",render:function(e){var t=e.field,a=t.onChange,n=t.value,l=e.fieldState.error;return r.a.createElement(ve.a,{label:"Respiratory Rate (bpm)",id:"RespiratoryRate",variant:"outlined",value:n,onChange:a,error:!!l,helperText:l?l.message:null})}}))),r.a.createElement(ge.a,{item:!0,xs:6},r.a.createElement(he.a,{fullWidth:!0},r.a.createElement(M.a,{name:"Temperature",control:a,defaultValue:"",render:function(e){var t=e.field,a=t.onChange,n=t.value,l=e.fieldState.error;return r.a.createElement(ve.a,{label:"Temperature (C)",id:"Temperature",variant:"outlined",value:n,onChange:a,error:!!l,helperText:l?l.message:null})}}))),r.a.createElement(ge.a,{item:!0,xs:6},r.a.createElement(ge.a,{container:!0,spacing:2},r.a.createElement(ge.a,{item:!0,xs:6},r.a.createElement(he.a,{fullWidth:!0},r.a.createElement(M.a,{name:"Systolic",control:a,defaultValue:"",render:function(e){var t=e.field,a=t.onChange,n=t.value,l=e.fieldState.error;return r.a.createElement(ve.a,{label:"Systolic (mmHg)",id:"Systolic",variant:"outlined",value:n,onChange:a,error:!!l,helperText:l?l.message:null})}}))),r.a.createElement(ge.a,{item:!0,xs:6},r.a.createElement(he.a,{fullWidth:!0},r.a.createElement(M.a,{name:"Diastolic",control:a,defaultValue:"",render:function(e){var t=e.field,a=t.onChange,n=t.value,l=e.fieldState.error;return r.a.createElement(ve.a,{label:"Diastolic (mmHg)",id:"Diastolic",variant:"outlined",value:n,onChange:a,error:!!l,helperText:l?l.message:null})}}))))),r.a.createElement(ge.a,{item:!0,xs:6},r.a.createElement(he.a,{fullWidth:!0},r.a.createElement(M.a,{name:"Weight",control:a,defaultValue:"",render:function(e){var t=e.field,a=t.onChange,n=t.value,l=e.fieldState.error;return r.a.createElement(ve.a,{label:"Weight (Kg)",id:"Weight",variant:"outlined",value:n,onChange:a,error:!!l,helperText:l?l.message:null})}}))),r.a.createElement(ge.a,{item:!0,xs:6},r.a.createElement(he.a,{fullWidth:!0},r.a.createElement(M.a,{name:"Height",control:a,defaultValue:"",render:function(e){var t=e.field,a=t.onChange,n=t.value,l=e.fieldState.error;return r.a.createElement(ve.a,{label:"Height (cm)",id:"Height",variant:"outlined",value:n,onChange:a,error:!!l,helperText:l?l.message:null})}})))),r.a.createElement(ge.a,{container:!0,spacing:2},r.a.createElement(ge.a,{item:!0,xs:12},r.a.createElement(Ee.a,{type:"button",variant:"contained",color:"error"},"Cancel"),"\xa0\xa0",r.a.createElement(Ee.a,{type:"submit",variant:"contained",color:"primary"},"Submit")))))))};function nt(){return r.a.createElement(i.a,null,r.a.createElement("div",null,r.a.createElement(T.a,null),r.a.createElement(i.d,null,r.a.createElement(i.b,{path:"/register-patient"},r.a.createElement(lt,null)),r.a.createElement(i.b,{path:"/patient-dashboard"},r.a.createElement(rt,null)),r.a.createElement(i.b,{path:"/patient-vitals"},r.a.createElement(ct,null)),r.a.createElement(i.b,{path:"/add-patient-vital"},r.a.createElement(it,null)),r.a.createElement(i.b,{path:"/"},r.a.createElement(Ue,null)))))}function rt(){return r.a.createElement(Ae,null)}function lt(){return r.a.createElement(L,null)}function ct(){return r.a.createElement(Ze,null)}function it(){return r.a.createElement(at,null)}a(853);c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(nt,null)),document.getElementById("root"))}},[[645,1,2]]]);
//# sourceMappingURL=main.78e740db.chunk.js.map